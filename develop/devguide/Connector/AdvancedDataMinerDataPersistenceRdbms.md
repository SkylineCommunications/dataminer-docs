---
uid: AdvancedDataMinerDataPersistenceRdbms
---

# DataMiner general database â€“ RDBMS

DataMiner legacy setups use either MySQL Server or Microsoft SQL Server (MSSQL Server) as local RDBMS. However, note that such legacy setups do not have access to all DataMiner features. In addition, MSSQL is no longer supported from DataMiner 10.3.0 onwards.

The sections below provide an overview of different tables that can be found in the MySQL general database (called "sldmadb") of a DataMiner Agent.

> [!WARNING]
> The tables and their structure are subject to change. Therefore, it is not supported to directly communicate with the database.

> [!NOTE]
> The recommended setup for DataMiner storage is [Storage as a Service](xref:STaaS).

## Element data

The elementdata_[DMA ID] table contains the values of the persisting parameters (standalone and table parameters). This table is defined as follows:

|Field|Type|Null|Key|Description|
|--- |--- |--- |--- |--- |
|iEID|int(11)|No|Primary|Element ID|
|iPID|bigint(20)|No|Primary|Parameter ID|
|chIndex|text|No|Primary (chIndex(100))|The primary key (not used for standalone parameters).|
|chValue|text|Yes||The value of the parameter. (default null)|

## Information events

The info table contains the information events generated by the DataMiner Agent.

|Field|Type|Null|Key|Description|
|--- |--- |--- |--- |--- |
|Id|bigint(20)|No|Primary|ID of the info table entry.|
|DmaId|int(11)|No|Primary|DataMiner ID|
|EId|int(11)|No||Element ID|
|PId|int(11)|No||Parameter ID|
|PREVKey|bigint(20)|No||Not applicable in case of information events.|
|Value|varchar(200)|Yes||Value of the information event.|
|Severity|smallint(6)|No||Value 13 from the slenumvalues table: "Information".|
|SeverityLevel|smallint(6)|Yes||Value 5 from the slenumvalues table: "Normal".|
|Toa|datetime|No|Multiple|Date/time when the information event appeared in the DataMiner System.|
|Type|smallint(6)|No||Value 10 from the slenumvalues table: "New Alarm".|
|Owner|varchar(25)|Yes||Not applicable for information events.|
|Status|smallint(6)|No||Value 11 from the slenumvalues table: "Cleared".|
|UserComment|mediumtext|Yes||Not applicable for information events.|
|Uploaded|smallint(6)|No||Currently not used.|
|SourceId|smallint(6)|No||A value from the slenumvalues table indicating the module that generated the information event.|
|UserStatus|smallint(6)|Yes||A value from the slenumvalues table indicating the current ownership status.|
|ROOTKey|bigint(20)|No|Multiple|Not applicable for information events.|
|chIndex|text|Yes|Multiple|If the information event is associated with a dynamic table parameter, this field will contain the display key of the table row. **IMPORTANT**: For a dynamic table parameter with "advanced naming" enabled, this field will contain the primary key instead of the display key.|
|rcaLevel|int(11)|Yes|Multiple|Not applicable for information events.|
|chDisplayIndex|text|Yes||If the information event is associated with a cell of a dynamic table with "advanced naming" enabled, this field will contain the display key.|
|creationTime|datetime|Yes||Date/time when the information event was generated.|

> [!NOTE]
> When information event that exceed 200 characters are saved in the database, they will be truncated at 200 characters.<!-- RN 14062 -->

## Alarm Data

Alarm data is kept in the following tables:

- alarm table
- alarm_property table
- brainlink table
- interface_alarm table
- service_alarm table

### alarm table

The alarm table contains the sequential list of alarms generated by the DataMiner System.

|Field|Type|Null|Key|Description|
|--- |--- |--- |--- |--- |
|Id|bigint(20)|No|Primary|ID of the alarm table entry.|
|DmaId|int(11)|No|Primary|DataMiner ID|
|EId|int(11)|No||Element ID|
|PId|int(11)|No||Parameter ID|
|PREVKey|int(11)|No||ID of the previous alarm in the alarm tree. In records representing the first alarm in an alarm tree, this field will contain 0.|
|Value|varchar(200)|Yes||Value of the alarm.|
|Severity|smallint(6)|No||A value from the slenumvalues table indicating the severity of the alarm.|
|SeverityLevel|smallint(6)|Yes||A value from the slenumvalues table indicating the range of the alarm (for analog parameters only):|
|Toa|datetime|No||Multiple date/time when the alarm appeared in the DataMiner System.|
|Type|smallint(6)|No||A value from the slenumvalues table indicating the type of alarm:|
|Owner|varchar(25)|Yes||User who has taken ownership of the alarm.|
|Status|smallint(6)|No||A value from the slenumvalues table indicating the status of the alarm.|
|UserComment|mediumtext|Yes||Comment entered by a user.|
|Uploaded|smallint(6)|No|Multiple|Currently not used.|
|SourceId|smallint(6)|No|Multiple|A value from the slenumvalues table indicating the module that generated the alarm.|
|UserStatus|smallint(6)|Yes||A value from the slenumvalues table indicating the current ownership status.|
|ROOTKey|bigint(20)|No|Multiple|The ID of the original alarm in the alarm's history tree.|
|chIndex|text|Yes|Multiple|If the alarm is associated with a dynamic table parameter, this field will contain the display key of the table row. **IMPORTANT**: For a dynamic table parameter with "advanced naming" enabled, this field will contain the primary key instead of the display key.|
|rcaLevel|int(11)|Yes|Multiple|The proximity of the alarm to the root cause of the problem, i.e., the position of the alarm in the Root Cause Analysis connectivity chain.|
|chDisplayIndex|text|Yes||If the alarm is associated with a cell of a dynamic table with "advanced naming" enabled, this field will contain the display key.|
|creationTime|datetime|Yes||Date/time when the alarm was generated.|

### alarm_property table

This table contains the properties (both general and custom) of the elements in an alarm state. For a detailed description of this table definition, refer to [Structure of the offload database](xref:Structure_of_the_offload_database).

### brainlink table

The table contains the links between the correlated alarms and the raw alarms that caused them. For a detailed description of this table definition, refer to [Structure of the offload database](xref:Structure_of_the_offload_database).

### interface_alarm table

This table contains the links between alarms on interfaces and those interfaces. For a detailed description of this table definition, refer to [Structure of the offload database](xref:Structure_of_the_offload_database).

### service_alarm table

This table contains the links between alarms contained in services and those services. For a detailed description of this table definition, refer to [Structure of the offload database](xref:Structure_of_the_offload_database).

## Trend data

Trend data is kept in different tables depending on the type of trending:

- Real-time trend data
- Average trend data
- Partitioned trending

### Real-time trend data

For each element that performs real-time trending, a table with the name data_[DMA ID]_[element ID] contains the real-time trend data. This table is defined as follows:

|Field|Type|Null|Key|Description|
|--- |--- |--- |--- |--- |
|iId|bigint(20)|No|Primary|Automatically incremented ID of the table entry.|
|iPid|int(11)|No||ID of the trended parameter.|
|chValue|varchar(200)|Yes||Parameter value.|
|dtFirst|datetime|No||Date/time when this table entry was added to the database.|
|uiFirstTC|smallint(5)|Yes|||
|iStatus|int(11)|No||Possible values: 0: The table entry contains normal real-time trend data without additional information. Negative value: Additional information that, in most cases, will be used to avoid an incorrect graphical representation of a parameter's trend data when building trend graphs. For a complete list of possible iStatus values, refer to [Structure of the offload database](xref:Structure_of_the_offload_database)|
|chOwner|varchar(25)|Yes||Name of the user who last set the parameter.|
|dtLast|datetime|No|||
|uiLastTC|smallint(5)|Yes|||
|uiReceiveCount|bigint(20)|Yes|||
|chIndex|text|Yes||If the trended parameter is a dynamic table parameter, this field will contain the display key of the table row. **IMPORTANT**: For a dynamic table with "advanced naming" enabled, this field will contain the primary key instead of the display key.|

### Average trend data

For each element that performs average trending, a table with the name dataavg_[DMA ID]_[element ID] contains the average trend data. This table is defined as follows:

|Field|Type|Null|Key|Description|
|--- |--- |--- |--- |--- |
|iId|bigint(20)|No|Primary|Automatically incremented ID of the table entry.|
|iPid|int(11)|No||ID of the trended parameter.|
|chValueAvg|varchar(200)|Yes||Calculated average value of the parameter during the last measurement interval. For a numeric parameter, this is the weighted average based on the values and on how long these were present in the time window, for a discrete or string parameter it is the value that was active for the longest time.|
|chValueMax|varchar(200)|Yes||Maximum value of the parameter during the last measurement interval. For a numeric parameter, this is the highest value that was monitored, for a discrete or string parameter it is the value that occurred the most often.|
|chValueMin|varchar(200)|Yes||Minimum value of the parameter during the last measurement interval. For a numeric parameter, this is the lowest value that was monitored, for a discrete or string parameter it is the percentage of time that the average value was active.|
|dtFirst|datetime|No||Date/time when this table entry was added to the database.|
|iStatus|int(11)|No||Possible values: 5: The table entry contains average/max/min values calculated based on parameter values measured during the last 5 minutes. 60: The table entry contains average/max/min values calculated based on parameter values measured during the last 60 minutes. Negative value: Additional information that, in most cases, will be used to avoid an incorrect graphical representation of a parameter's trend data when building trend graphs. For a complete list of possible iStatus values, refer to [Structure of the offload database](xref:Structure_of_the_offload_database).|
|chIndex|text|Yes||If the trended parameter is a dynamic table parameter, this field will contain the display key of the table row.<br>**IMPORTANT**: For a dynamic table parameter with "advanced naming" enabled, this field will contain the primary key instead of the display key.|

### Partitioned trending

In some cases, the amount of trending data generated can be very large. In this case, it is possible to partition trend data using the partitionedTrending option (of the [databaseOptions](xref:Protocol.Type-databaseOptions) attribute of the Type tag).

Using this option results in the trend data being stored in a number of separate files.

- Real-time trend data will be saved in files with a name formatted as follows:

  `data_[DMA ID]_[element ID]#p#y[year]m[month]d[day]h[hour].ibd`

  The last 24 hours of real-time trending will be kept.

- Average trend data will be saved in files with a name formatted as follows:

  `dataavg_[DMA ID]_[element ID]#p#s[trend widows size in minutes]y[year]w[week].ibd`

  The last year of average trend data will be kept.

> [!NOTE]
> The partitionedTrending option only relates to an RDBMS database, i.e., it has no influence on a Cassandra database.

## DVE information

The elementinfo_dve table contains additional information about DVEs. The table is defined as follows:

|Field|Type|Null|Key|Description|
|--- |--- |--- |--- |--- |
|dve_dmaid|int(11)|No|Primary|The DMA ID of the DVE.|
|dve_eid|int(11)|No|Primary|The element ID of the DVE.|
|dve_parent_eid|int(11)|No||The element ID of the DVE parent.|
|dve_alarm_template_name|varchar(256)|Yes||The name of the alarm template.|
|dve_trend_template_name|varchar(256)|Yes||The name of the trend template.|
|dve_description|varchar(256)|Yes||The description of the DVE.|
|dve_hidden|tinyint(4)|Yes||Indication of DVE hide status|
|dve_read_only|tinyint(4)|Yes|||
|dve_vip|varchar(45)|Yes|||
|dve_vip_mask|varchar(45)|Yes|||
|dve_telnet|tinyint(4)|Yes|||
|dve_snmp_agent|tinyint(4)|Yes|||
|dve_name|varchar(256)|Yes||The name of the DVE element.|
|dve_protocol|varchar(256)|Yes||The name of the DVE protocol.|
|dve_parent_dmaid|int(11)|No||The DMA ID of the DVE parent.|
