---
uid: Separate_Cassandra_setup_without_Elasticsearch
---

# Separate Cassandra setup without Elasticsearch

This architecture is currently still supported, though it is **not recommended**. In this case, **each DMA has its own Cassandra database** (which can be a cluster with several nodes). No Elasticsearch database is used, which means that certain DataMiner features will not be available.

> [!TIP]
> For information on how to migrate a legacy setup with MySQL/MSSQL database to Cassandra, see [Migrating the general database to Cassandra](xref:Migrating_the_general_database_to_Cassandra).

By default, Cassandra is installed on the same machine as DataMiner. However, when your system has a high load, it is strongly recommended to move the Cassandra database towards an external (Windows or Linux) machine. This way, DataMiner and Cassandra do not affect each other during heavy operations. The best way to do so is by adding one or more external nodes to the Cassandra cluster and then decommissioning the original node on the DataMiner machine. See [Adding and removing nodes in a Cassandra cluster database](xref:Scale_Cassandra_Database).

In case Cassandra struggles with the load generated by DataMiner, you can add additional Cassandra nodes. In that case, DataMiner will connect to one of the nodes, which will act as a coordinator that makes sure the data is stored in the appropriate nodes.

In case of a DataMiner Failover pair, the Cassandra nodes on each of the DMAs are grouped in a cluster, which can be customized. It is the active DMA that connects with the Cassandra database.

![DataMiner and Cassandra hosted on the same machine](~/user-guide/images/DataMiner-and-Cassandra.png)<br>
*DataMiner and Cassandra hosted on the same machine*

![Cassandra running on an external machine](~/user-guide/images/Cassandra-running-on-an-external-machine.png)<br>
*Cassandra running on an external machine*

![A Cassandra database of three nodes](~/user-guide/images/Cassandra-database-of-three-nodes.png)<br>
*A Cassandra database of three nodes*

![Default Failover configuration with a Cassandra database consisting of two nodes hosted on the same machines as DataMiner](~/user-guide/images/Default-Failover-configuration.png)<br>
*Default Failover configuration with a Cassandra database consisting of two nodes hosted on the same machines as DataMiner*

![Failover pair with external Cassandra database of three nodes](~/user-guide/images/Failover-pair-with-external-Cassandra-database-of-three-nodes.png)<br>
*Failover pair with external Cassandra database of three nodes*

> [!NOTE]
> If a "Database per Agent" setup is configured, one Cassandra cluster is used per Failover pair. Consequently, if a DMS consists of a single Failover pair, it will use a single Cassandra cluster, even if it is not a "Database per cluster" setup. The main difference with a "Database per cluster" setup (also known as a "Cassandra Cluster setup") in this case is that no Elasticsearch database is required, while this is always required for a "Database per cluster" setup.
